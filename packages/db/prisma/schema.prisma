// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["referentialIntegrity", "interactiveTransactions"]
}

datasource db {
    provider             = "mysql"
    url                  = env("DATABASE_URL")
    referentialIntegrity = "prisma"
}

model Competition {
    id       Int    @id @default(autoincrement())
    name     String @unique
    fullName String @unique
    code     String @unique
    emblem   String

    teams Team[]
}

model Team {
    id               Int    @id
    name             String
    shortName        String
    tla              String
    crest            String
    domesticPrestige Int
    intPrestige      Int

    competitionId Int

    competition Competition @relation(fields: [competitionId], references: [id])
    players     Player[]
}

enum Position {
    Goalkeeper
    Defence
    Midfield
    Offence
}

model Player {
    id          Int      @id
    name        String
    photo       String
    position    Position
    age         Int
    nationality String
    shirtNumber Int
    height      Int
    rating      Int

    teamId Int

    team Team @relation(fields: [teamId], references: [id])
}
